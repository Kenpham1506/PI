<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infinite Pi Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            text-align: center;
        }
        #pi-container {
            font-size: 20px;
            word-wrap: break-word;
            text-align: justify;
            max-width: 800px;
            margin: auto;
        }
    </style>
</head>
<body>
    <h1>Generating Pi...</h1>
    <div id="pi-container">3.</div>

    <script>
        function* spigotPiGenerator() {
            let q = 1, r = 0, t = 1, k = 1, n = 3, l = 3;
            while (true) {
                if (4 * q + r - t < n * t) {
                    yield n;
                    let nr = 10 * (r - n * t);
                    n = Math.floor((10 * (3 * q + r)) / t) - 10 * n;
                    q *= 10;
                    r = nr;
                } else {
                    let nr = (2 * q + r) * l;
                    let nn = Math.floor((q * (7 * k + 2) + r * l) / (t * l));
                    q *= k;
                    t *= l;
                    l += 2;
                    k += 1;
                    n = nn;
                    r = nr;
                }
            }
        }

        let generator = spigotPiGenerator();
        let piContainer = document.getElementById("pi-container");

        function generatePiInfinite() {
            setInterval(() => {
                let newDigits = "";
                for (let i = 0; i < 10; i++) {
                    newDigits += generator.next().value;
                }
                piContainer.innerHTML += newDigits;
            }, 100);
        }

        generatePiInfinite();
    </script>
</body>
</html>
